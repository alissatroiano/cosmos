(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();window.focus();const c=new THREE.Scene;c.background=new THREE.Color(657930);const W=window.innerWidth/window.innerHeight,w=960,v=w/W,m=new THREE.OrthographicCamera(w/-2,w/2,v/2,v/-2,50,700);m.position.set(0,-210,300);m.lookAt(0,0,0);const p=new THREE.WebGLRenderer;p.setSize(window.innerWidth,window.innerHeight);p.shadowMap.enabled=!0;document.body.appendChild(p.domElement);const D=new THREE.AmbientLight(7697781);c.add(D);const H=new THREE.DirectionalLight(16777215,.6);H.position.set(100,-100,100).normalize();H.castShadow=!0;c.add(H);function R(t=[],s=25){const n=new THREE.SphereGeometry(s,25,25),o=new THREE.MeshPhongMaterial({color:t,shininess:30}),e=new THREE.Mesh(n,o);return e.castShadow=!0,e.receiveShadow=!0,e.position.set(0,0,0),e.renderOrder=1,e}const E=[16562691,15871586,9186109,16187187,4043563,13191033,15417151,16746496,3910612,16191433],h=R(7547827);let O=R(E[Math.floor(Math.random()*E.length)]);c.add(h);c.add(O);function B(t,s,n,o){const e=new THREE.BufferGeometry,r=[],a=64;for(let x=0;x<=a;x++){const k=x/a*Math.PI*2;r.push(Math.cos(k)*t+n,0,Math.sin(k)*t+o)}e.setAttribute("position",new THREE.Float32BufferAttribute(r,3));const y=new THREE.LineDashedMaterial({color:s,dashSize:10,gapSize:15}),S=new THREE.LineLoop(e,y);return S.computeLineDistances(),S}var C=360*(Math.PI/180);const G=280,g=Math.cos(C)*G,M=Math.sin(C)*G,f=-g/2,u=-M/2,j=B(280,3319890,f,u),N=B(280,8542810,g+f,M+u);c.add(j);c.add(N);const l={started:!1,lastTimestamp:null,playerAngleMoved:0,playerAngleInitial:0,score:0,lapsCompleted:0,otherPlanets:[],controls:{accelerate:!1,decelerate:!1}};l.otherPlanets.push({mesh:O,angle:Math.PI,speed:.025,radius:260,clockwise:!0});let T=!1,d=0,i=.025;const A=.0425,L=.01245,z=.0125;let I=performance.now();function q(){l.score+=1,document.getElementById("score").innerText=l.score,console.log("Score: "+l.score)}function U(t,s){return t.position.distanceTo(s.position)<50}let b=0;function P(){if(T)return;requestAnimationFrame(P);const t=performance.now(),s=(t-I)/1e3;I=t,i>0?i=Math.max(i-z*s,0):i<0&&(i=Math.min(i+z*s,0));const n=280;if(d+=i,h.position.x=Math.cos(d)*n+f,h.position.z=Math.sin(d)*n+u,i===0&&(d+=L,h.position.x=Math.cos(d)*n+f,h.position.z=Math.sin(d)*n+u),d>=Math.PI*2&&(d-=Math.PI*2,b++,b%3===0&&q(),b%3===0)){const o=E[Math.floor(Math.random()*E.length)],e=Math.random()*Math.PI*2,r=.02+Math.random()*.02,a=R(o,Math.random()*20+10);a.position.x=Math.cos(e)*n+(g+f),a.position.z=Math.sin(e)*n+(M+u),c.add(a),l.otherPlanets.push({mesh:a,angle:e,speed:r,clockwise:!1})}l.otherPlanets.forEach(o=>{if(o.angle+=o.speed*(o.clockwise,1),o.mesh.position.x=Math.cos(o.angle)*n+(g+f),o.mesh.position.z=Math.sin(o.angle)*n+(M+u),U(h,o.mesh)){T=!0,alert(`Game Over! Planets collided! Your score: ${l.score}. Press R or click the reload button to play again!`);return}}),p.render(c,m)}function X(){const t=new THREE.BufferGeometry,s=new THREE.PointsMaterial({color:16448250,size:1,sizeAttenuation:!1}),n=[];for(let e=0;e<1e3;e++){const r=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,y=(Math.random()-.5)*2e3;n.push(r,a,y)}t.setAttribute("position",new THREE.Float32BufferAttribute(n,3));const o=new THREE.Points(t,s);c.add(o)}X();window.addEventListener("resize",()=>{const t=window.innerWidth/window.innerHeight,s=w/t;m.top=s/2,m.bottom=-s/2,m.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)});document.getElementById("accelerate").addEventListener("click",()=>{i=Math.min(i+.01,A)});document.getElementById("decelerate").addEventListener("click",()=>{i=L});document.addEventListener("keydown",t=>{t.key==="ArrowUp"?i=Math.min(i+.01,A):t.key==="ArrowDown"&&(i=L)});function F(){T=!1,d=0,P()}document.addEventListener("keydown",t=>{(t.key==="r"||t.key==="R")&&(F(),window.location.reload())});document.getElementById("reset").addEventListener("click",()=>{F(),window.location.reload()});document.getElementById("accelerate").addEventListener("touchstart",()=>{i=Math.min(i+.01,A)});P();
//# sourceMappingURL=index-CVuZv8T0.js.map
