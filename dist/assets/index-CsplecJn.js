(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();window.focus();const r=new THREE.Scene;r.background=new THREE.Color(0);const O=window.innerWidth/window.innerHeight,M=960,S=M/O,f=new THREE.OrthographicCamera(M/-2,M/2,S/2,S/-2,50,700);f.position.set(0,-210,300);f.lookAt(0,0,0);const E=new THREE.WebGLRenderer;E.setSize(window.innerWidth,window.innerHeight);E.shadowMap.enabled=!0;document.body.appendChild(E.domElement);const k=new THREE.AmbientLight(16777215,.6);r.add(k);const A=new THREE.DirectionalLight(16777215,.6);A.position.set(100,-300,300);A.castShadow=!0;r.add(A);function R(e=7547827,n=30){const i=new THREE.SphereGeometry(n,32,32),a=new THREE.MeshPhongMaterial({color:e,shininess:35}),t=new THREE.Mesh(i,a);return t.castShadow=!0,t.receiveShadow=!0,t}const y=[16562691,15871586,9186109,16187187,4043563,13191033,15417151,16746496,3910612,16191433],g=R(7547827);let x=R(y[Math.floor(Math.random()*y.length)]);r.add(g);r.add(x);function z(e=285,n=3355647,i=0,a=0){const t=new THREE.BufferGeometry,o=[],s=64;for(let d=0;d<=s;d++){const u=d/s*Math.PI*2;o.push(Math.cos(u)*e,0,Math.sin(u)*e)}for(let d=s;d>=0;d--){const u=d/s*Math.PI*2;o.push(Math.cos(u)*(e-50),0,Math.sin(u)*(e-50))}t.setAttribute("position",new THREE.Float32BufferAttribute(o,3));const P=new THREE.LineDashedMaterial({color:n,dashSize:10,gapSize:10,opacity:1,transparent:!0}),h=new THREE.Line(t,P);return h.computeLineDistances(),h.rotation.x=Math.PI/2,h.position.x=i,h.position.z=a,h}var I=360*(Math.PI/180);const F=285,b=Math.cos(I)*F,H=Math.sin(I)*F,w=-b/2,m=-H/2,G=z(285,7697781,w,m),C=z(285,8542810,b+w,H+m);r.add(G);r.add(C);const l={started:!1,lastTimestamp:null,playerAngleMoved:0,playerAngleInitial:0,score:0,lapsCompleted:0,otherPlanets:[],controls:{accelerate:!1,decelerate:!1}};l.otherPlanets.push({mesh:x,angle:Math.PI,speed:.025,clockwise:!0});let T=!1,c=0,p=Math.PI;function v(){l.score+=1,document.getElementById("score").innerText=l.score,console.log("Score: "+l.score)}function W(e,n){return e.position.distanceTo(n.position)<50}function L(){if(!T){if(requestAnimationFrame(L),c+=.025,g.position.x=Math.cos(c)*285+w,g.position.z=Math.sin(c)*285+m,p+=.025,x.position.x=Math.cos(p)*285+(b+w),x.position.z=Math.sin(p)*285+(H+m),c>=Math.PI*6){let e=R(y[Math.floor(Math.random()*y.length)]);r.add(e),l.otherPlanets.push({mesh:e,angle:p,speed:.03,clockwise:!0}),v(),c=0}l.otherPlanets.forEach(e=>{if(e.angle+=e.speed*(e.clockwise?1:-1),e.mesh.position.x=Math.cos(e.angle)*285+(b+w),e.mesh.position.z=Math.sin(e.angle)*285+(H+m),W(g,e.mesh)){T=!0,alert("Game Over! Planets collided! Your score: "+l.score);return}}),E.render(r,f)}}function B(){const e=new THREE.BufferGeometry,n=new THREE.PointsMaterial({color:16777215,size:1,sizeAttenuation:!1}),i=[];for(let t=0;t<1e3;t++){const o=(Math.random()-.5)*2e3,s=(Math.random()-.5)*2e3,P=(Math.random()-.5)*2e3;i.push(o,s,P)}e.setAttribute("position",new THREE.Float32BufferAttribute(i,3));const a=new THREE.Points(e,n);r.add(a)}B();window.addEventListener("resize",()=>{const e=window.innerWidth/window.innerHeight,n=M/e;f.top=n/2,f.bottom=-n/2,f.updateProjectionMatrix(),E.setSize(window.innerWidth,window.innerHeight)});document.addEventListener("keydown",e=>{T||((e.key==="ArrowUp"||e.key==="w")&&(c+=.1),(e.key==="ArrowDown"||e.key==="s")&&(c-=.075))});function D(){T=!1,c=0,p=Math.PI,L()}document.addEventListener("keydown",e=>{(e.key==="r"||e.key==="R")&&(D(),window.location.reload())});L();
//# sourceMappingURL=index-CsplecJn.js.map
